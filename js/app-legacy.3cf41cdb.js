(function(){"use strict";var e={7508:function(e,t,r){r(6992),r(8674),r(9601),r(7727);var o=r(144),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("nav-bar"),r("v-main",{staticClass:"pa-16"},[r("router-view")],1),r("footer-comp")],1)},a=[],i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app-bar",{attrs:{app:"",color:"indigo lighten-1",dark:""}},[o("div",{staticClass:"d-flex align-center",on:{click:function(t){return e.$router.push("/")}}},[o("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:r(9900),transition:"scale-transition",width:"40"}}),o("v-app-bar-title",[e._v("Books Editor")])],1),o("v-spacer"),o("v-btn",{attrs:{text:"",small:"",outlined:""},on:{click:function(t){return e.$router.push("/")}}},[o("v-icon",{attrs:{small:""}},[e._v("mdi-home")]),o("span",{staticClass:"mr-2"},[e._v("Home")])],1),o("v-btn",{attrs:{text:"",small:""},on:{click:e.logout}},[o("v-icon",{attrs:{small:""}},[e._v("mdi-download-off")]),o("span",{staticClass:"mr-2"},[e._v("Salir")])],1),o("v-btn",{attrs:{text:"",small:""},on:{click:function(t){return e.$router.push("/register")}}},[o("v-icon",{attrs:{small:""}},[e._v("mdi-account-plus ")]),o("span",{staticClass:"mr-2"},[e._v("Registrarse")])],1)],1)},s=[],l=r(3277),c={name:"navbar-comp",data:function(){return{}},methods:{logout:function(){var e=this,t=(0,l.v0)();(0,l.w7)(t).then((function(){e.$router.push("/login")})).catch((function(e){console.log(e)}))}}},u=c,d=r(1001),f=r(3453),v=r.n(f),p=r(7666),m=r(8895),h=r(9787),b=r(4456),g=r(5288),k=r(2515),Z=(0,d.Z)(u,i,s,!1,null,"c6942768",null),x=Z.exports;v()(Z,{VAppBar:p.Z,VAppBarTitle:m.Z,VBtn:h.Z,VIcon:b.Z,VImg:g.Z,VSpacer:k.Z});var w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-footer",{attrs:{padless:"",color:"red lighten-1",dark:"",app:""}},[r("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" — "),r("strong",[e._v("Books Editor")])])],1)},V=[],C={name:"footer-comp",data:function(){return{}}},_=C,y=r(7024),E=r(7718),B=(0,d.Z)(_,w,V,!1,null,"22e5d220",null),$=B.exports;v()(B,{VCol:y.Z,VFooter:E.Z});var R={name:"App",data:function(){return{}},components:{"nav-bar":x,"footer-comp":$}},O=R,T=r(303),S=r(4021),q=(0,d.Z)(O,n,a,!1,null,null,null),A=q.exports;v()(q,{VApp:T.Z,VMain:S.Z});r(1539),r(8783),r(3948);var j=r(4903),F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("h1",{staticClass:"text-center titulo text-h4"},[e._v("Colección George R.R. Martin")]),r("v-divider",{staticClass:"my-3"}),r("v-row",{attrs:{justify:"center"}},[e._l(e.books,(function(t){return r("v-col",{key:t.id,staticClass:"cuerpo",attrs:{md:"3"}},[r("v-card",[r("v-img",{attrs:{height:"220",src:t.image}}),r("v-divider",{staticClass:"mt-2"}),r("v-card-text",[r("strong",[e._v(e._s(t.title))])]),r("v-card-actions",[r("v-btn",{attrs:{small:"",block:"",color:"brown lighten-2",dark:""},on:{click:function(r){return e.$router.push("/book/"+t.id)}}},[e._v("VER MAS")])],1)],1)],1)})),r("v-container",{staticClass:"text-center ma-16"},[r("v-sheet",{staticClass:"px-12 pt-12 pb-12 mx-auto text-center d-inline-block",attrs:{color:"brown lighten-4",dark:""}},[r("v-btn",{attrs:{"x-large":"",color:"deep-purple lighten-2",dark:""},on:{click:function(t){return e.$router.push("/book")}}},[r("v-icon",[e._v("mdi-plus-circle")]),r("span",{staticClass:"mr-2"},[e._v("Nuevo Libro")])],1)],1)],1)],2)],1)},D=[],I=r(3019),L=r(629),P={name:"home-view",components:{},computed:(0,I.Z)({},(0,L.rn)(["books"])),methods:(0,I.Z)({},(0,L.nv)(["fetchBooks"])),created:function(){this.fetchBooks()}},J=P,K=r(2026),N=r(5255),M=r(1819),U=r(5596),H=r(7894),X=r(801),Y=(0,d.Z)(J,F,D,!1,null,"aabbddba",null),z=Y.exports;v()(Y,{VBtn:h.Z,VCard:K.Z,VCardActions:N.h7,VCardText:N.ZB,VCol:y.Z,VContainer:M.Z,VDivider:U.Z,VIcon:b.Z,VImg:g.Z,VRow:H.Z,VSheet:X.Z});var G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"text-center"},[e._v("Registrar nuevo libro")]),r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,counter:35,label:"Nombre Libro",required:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,counter:20,label:"Autor",required:""},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,label:"Src",required:""},model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.types,label:"Tipo",rules:e.requiredRules},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),r("v-col",{staticClass:"text-center"},[r("v-btn",{staticClass:"btn",attrs:{color:"deep-purple lighten-2",dark:""},on:{click:e.createBook}},[e._v("Registrar")]),r("v-btn",{staticClass:"btn",attrs:{color:"indigo lighten-1",dark:""},on:{click:e.resetForm}},[e._v("Limpiar formulario")])],1)],1)],1)],1)],1)},Q=[],W=r(7673),ee=r(6198),te=r(5503),re=r(5321),oe={apiKey:"AIzaSyCknAirJxxJ77-VXhonD5WayxHDeCYKKc8",authDomain:"cursobook27profe.firebaseapp.com",projectId:"cursobook27profe",storageBucket:"cursobook27profe.appspot.com",messagingSenderId:"524261606277",appId:"1:524261606277:web:12d77a688c765b27013aec"};(0,te.ZF)(oe);var ne=(0,re.ad)(),ae={name:"register-book",data:function(){return{valid:!0,form:{title:"",author:"",type:"",image:""},requiredRules:[function(e){return!!e||"Campo es requerido"}]}},computed:(0,I.Z)({},(0,L.rn)(["types"])),methods:{createBook:function(){var e=this;return(0,ee.Z)((0,W.Z)().mark((function t(){var r;return(0,W.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$refs.form.validate(),e.valid){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,(0,re.ET)((0,re.hJ)(ne,"books"),e.form);case 6:r=t.sent,console.log(r),e.$router.push("/"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()},resetForm:function(){this.$refs.form.reset()}}},ie=ae,se=r(3240),le=r(7663),ce=r(2660),ue=(0,d.Z)(ie,G,Q,!1,null,"6cdae995",null),de=ue.exports;v()(ue,{VBtn:h.Z,VCol:y.Z,VContainer:M.Z,VForm:se.Z,VRow:H.Z,VSelect:le.Z,VTextField:ce.Z});var fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"text-center"},[e._v("Editar libro "+e._s(e.idBook))]),r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-container",[r("v-row",[r("v-col",[r("v-switch",{attrs:{label:"Editar Libro",color:"deep-purple lighten-2",value:"info","hide-details":""},model:{value:e.allowEdit,callback:function(t){e.allowEdit=t},expression:"allowEdit"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,counter:35,label:"Nombre Libro",required:"",disabled:!e.allowEdit},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,counter:20,label:"Autor",required:"",disabled:!e.allowEdit},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:e.requiredRules,label:"Src",required:"",disabled:!e.allowEdit},model:{value:e.form.image,callback:function(t){e.$set(e.form,"image",t)},expression:"form.image"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.types,label:"Tipo",rules:e.requiredRules,disabled:!e.allowEdit},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),r("v-col",{staticClass:"text-center"},[r("v-btn",{attrs:{color:"deep-purple lighten-2",dark:"",disabled:!e.allowEdit},on:{click:e.editBook}},[e._v("Editar")]),r("v-btn",{staticClass:"btn",attrs:{color:"indigo lighten-1",dark:""},on:{click:e.resetForm}},[e._v("Limpiar formulario")]),r("v-btn",{staticClass:"btn",attrs:{color:"red lighten-1",dark:""},on:{click:function(t){e.dialog=!0}}},[e._v("Eliminar")])],1)],1)],1)],1),r("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" ¿Deseas Eliminar el libro? ")]),r("v-divider"),r("v-card-actions",[r("v-btn",{attrs:{color:"red",text:""},on:{click:e.deleteBook}},[e._v(" Eliminar ")]),r("v-spacer"),r("v-btn",{attrs:{color:"info",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" Cerrar ")])],1)],1)],1)],1)},ve=[],pe={name:"book-comp",props:["idBook"],data:function(){return{valid:!0,dialog:!1,form:{title:"",author:"",type:"",image:""},requiredRules:[function(e){return!!e||"Campo es requerido"}],allowEdit:!1}},computed:(0,I.Z)({},(0,L.rn)(["types"])),methods:{resetForm:function(){this.$refs.form.reset()},fetchBookById:function(){var e=this;return(0,ee.Z)((0,W.Z)().mark((function t(){var r,o;return(0,W.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=(0,re.JU)(ne,"books",e.idBook),t.next=3,(0,re.QT)(r);case 3:o=t.sent,console.log(o.data()),e.form=o.data();case 6:case"end":return t.stop()}}),t)})))()},editBook:function(){var e=this;return(0,ee.Z)((0,W.Z)().mark((function t(){var r;return(0,W.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.form,r.id=e.idBook,t.next=5,(0,re.r7)((0,re.JU)(ne,"books",r.id),r);case 5:e.$router.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},deleteBook:function(){var e=this;return(0,ee.Z)((0,W.Z)().mark((function t(){return(0,W.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,re.oe)((0,re.JU)(ne,"books",e.idBook));case 3:e.$router.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},created:function(){this.fetchBookById()}},me=pe,he=r(9497),be=r(474),ge=(0,d.Z)(me,fe,ve,!1,null,"33f741e2",null),ke=ge.exports;v()(ge,{VBtn:h.Z,VCard:K.Z,VCardActions:N.h7,VCardTitle:N.EB,VCol:y.Z,VContainer:M.Z,VDialog:he.Z,VDivider:U.Z,VForm:se.Z,VRow:H.Z,VSelect:le.Z,VSpacer:k.Z,VSwitch:be.Z,VTextField:ce.Z});var Ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{md:"6"}},[r("h2",[e._v("Ingreso Usuario Registrado")]),r("v-form",[r("v-text-field",{attrs:{type:"email",label:"Correo"},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),r("v-text-field",{attrs:{type:"password",label:"Contraseña"},model:{value:e.pass,callback:function(t){e.pass=t},expression:"pass"}}),r("v-btn",{attrs:{color:"indigo lighten-1",dark:"",block:""},on:{click:e.login}},[e._v("Ingresar ")])],1)],1)],1)],1)},xe=[],we={name:"login-component",data:function(){return{user:"",pass:""}},methods:{login:function(){var e=this,t=(0,l.v0)();(0,l.e5)(t,this.user,this.pass).then((function(t){var r=t.user;console.log(r),e.$router.push("/")})).catch((function(e){var t=e.message;alert(t)}))}}},Ve=we,Ce=(0,d.Z)(Ve,Ze,xe,!1,null,"007d019f",null),_e=Ce.exports;v()(Ce,{VBtn:h.Z,VCol:y.Z,VContainer:M.Z,VForm:se.Z,VRow:H.Z,VTextField:ce.Z});var ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{md:"6"}},[r("h2",[e._v("Registro de Nuevo Usuario")]),r("v-form",[r("v-text-field",{attrs:{type:"email",label:"Correo"},model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),r("v-text-field",{attrs:{type:"password",label:"Contraseña"},model:{value:e.pass,callback:function(t){e.pass=t},expression:"pass"}}),r("v-btn",{attrs:{color:"indigo lighten-1",block:"",dark:""},on:{click:e.register}},[e._v("Registrar ")])],1)],1)],1)],1)},Ee=[],Be={name:"register-component",data:function(){return{user:"",pass:""}},methods:{register:function(){var e=this,t=(0,l.v0)();(0,l.Xb)(t,this.user,this.pass).then((function(t){var r=t.user;console.log(r),e.$router.push("/")})).catch((function(e){var t=e.message;alert(t)}))}}},$e=Be,Re=(0,d.Z)($e,ye,Ee,!1,null,"9932705a",null),Oe=Re.exports;v()(Re,{VBtn:h.Z,VCol:y.Z,VContainer:M.Z,VForm:se.Z,VRow:H.Z,VTextField:ce.Z}),o.Z.use(j.Z);var Te=[{path:"/",name:"home",component:z,meta:{privado:!0}},{path:"/book",name:"Register",component:de,meta:{privado:!0}},{path:"/book/:idBook",name:"Book",component:ke,props:!0,meta:{privado:!0}},{path:"/login",name:"Login",component:_e},{path:"/register",name:"Register",component:Oe},{path:"/about",name:"about",meta:{privado:!0},component:function(){return r.e(443).then(r.bind(r,524))}}],Se=new j.Z({mode:"history",base:"/firebase1/",routes:Te});Se.beforeEach((function(e,t,r){var o=(0,l.v0)();console.log(o);var n=o.currentUser;console.log(n);var a=e.meta.privado;a&&!n?r("/login"):void 0==a&&n?r("/"):r()}));var qe=Se;r(4747);o.Z.use(L.ZP);var Ae=new L.ZP.Store({state:{books:[],types:["ciencia ficción","novela"]},mutations:{ADD_BOOK:function(e,t){e.books.push({id:t.id,title:t.data().title,author:t.data().author,image:t.data().image,type:t.data().type})},RESET_BOOK:function(e){e.books=[]}},actions:{fetchBooks:function(e){return(0,ee.Z)((0,W.Z)().mark((function t(){var r,o;return(0,W.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,(0,re.PL)((0,re.hJ)(ne,"books"));case 3:o=t.sent,r("RESET_BOOK"),o.forEach((function(e){r("ADD_BOOK",e),console.log(e.id,"=>",e.data())}));case 6:case"end":return t.stop()}}),t)})))()}},modules:{}}),je=r(5121);o.Z.use(je.Z);var Fe=new je.Z({});o.Z.config.productionTip=!1;var De=(0,l.v0)();(0,l.Aj)(De,(function(){new o.Z({router:qe,store:Ae,vuetify:Fe,render:function(e){return e(A)}}).$mount("#app")}))},9900:function(e,t,r){e.exports=r.p+"img/logolibros.254c98af.png"}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,a){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],a=e[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](o[l])}))?o.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,n,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,o){return r.f[o](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/about-legacy.37e26b21.js"}}(),function(){r.miniCssF=function(e){}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="firebase1:";r.l=function(o,n,a,i){if(e[o])e[o].push(n);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+a),s.src=o),e[o]=[n];var f=function(t,r){s.onerror=s.onload=null,clearTimeout(v);var n=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(e){return e(r)})),t)return t(r)},v=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/firebase1/"}(),function(){var e={143:0};r.f.j=function(t,o){var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var a=new Promise((function(r,o){n=e[t]=[r,o]}));o.push(n[2]=a);var i=r.p+r.u(t),s=new Error,l=function(o){if(r.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}};r.l(i,l,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,i=o[0],s=o[1],l=o[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(l)var u=l(r)}for(t&&t(o);c<i.length;c++)a=i[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},o=self["webpackChunkfirebase1"]=self["webpackChunkfirebase1"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(7508)}));o=r.O(o)})();
//# sourceMappingURL=app-legacy.3cf41cdb.js.map